---
import { cn } from "@utils/style";
---

<div class={cn("nav-links", "flex items-center")}>
  <button class={cn("mr-4", "text-2xl block sm:hidden")} id="icon_menu">
    <!-- <Icon name="menu" /> -->xxx
  </button>
  <div class="hidden sm:flex">
    <a href="/" data-astro-prefetch>é¦–é¡µ</a>
    <a href="/about" data-astro-prefetch>å…³äº</a>
    <a href="/blog" data-astro-prefetch>åšå®¢</a>
    <a href="/tags" data-astro-prefetch>æ ‡ç­¾</a>
  </div>

  <div class={"hidden"} id="menu">
    <p v-data="/">é¦–é¡µ</p>
    <p v-data="/about">å…³äº</p>
    <p v-data="/blog">åšå®¢</p>
    <p v-data="/tags">æ ‡ç­¾</p>
  </div>
</div>

<script>

  // const iconMenuElement = document.getElementById("icon_menu");
  // console.log("ğŸš€ ~ iconMenuElement:", iconMenuElement)
  // const menuElement = document.getElementById("menu");
  // console.log("ğŸš€ ~ menuElement:", menuElement)
  // if (iconMenuElement && menuElement) {
  //   iconMenuElement.addEventListener("click", () => {
  //     console.log(
  //       "ğŸš€ ~ iconMenuElement.addEventListener ~ iconMenuElement:",
  //       iconMenuElement
  //     );

  //     menuElement.classList.toggle("hidden");
  //     const state = (() => {
  //       if (
  //         typeof localStorage !== "undefined" &&
  //         localStorage.getItem("theme")
  //       ) {
  //         return localStorage.getItem("theme");
  //       }
  //       if (
  //         typeof window !== "undefined" &&
  //         window.matchMedia("(prefers-color-scheme: dark)").matches
  //       ) {
  //         return "dark";
  //       }
  //       return "light";
  //     })();
  //     menuElement.classList.add(
  //       "flex",
  //       state === "light" ? "bg-white" : "bg-gray-800",
  //       "gray-400",
  //       "flex-col",
  //       "absolute",
  //       "top-0",
  //       "left-0",
  //       "w-1/2",
  //       "h-screen",
  //       "p-4",
  //       "shadow-lg"
  //     );

  //     // è®¾ç½®èœå•å†…çš„ <a> æ ‡ç­¾æ ·å¼
  //     const links = menuElement.querySelectorAll("p");
  //     links.forEach((link) => {
  //       link.classList.add("text-2xl", "mb-4", "text-center");
  //       link.style.color = state === "light" ? "#000" : "#fff"; // æ ¹æ®ä¸»é¢˜è®¾ç½®é¢œè‰²
  //       // link.style.textDecoration = "none"; // ç¤ºä¾‹ï¼šç§»é™¤ä¸‹åˆ’çº¿
  //       link.addEventListener("click", () => {
  //         const vData = link.getAttribute("v-data");

  //         // åˆ›å»ºä¸€ä¸ªæ–°çš„ <a> æ ‡ç­¾
  //         const aTag = document.createElement("a");
  //         aTag.href = vData; // è®¾ç½®è·³è½¬çš„ URL
  //         aTag.textContent = "Go"; // è®¾ç½®é“¾æ¥æ–‡æœ¬ï¼Œå¯æ ¹æ®éœ€è¦è°ƒæ•´
  //         aTag.style.display = "none"; // éšè—è¿™ä¸ª <a> æ ‡ç­¾ï¼Œå› ä¸ºæˆ‘ä»¬ä¸éœ€è¦æ˜¾ç¤ºå®ƒ

  //         // å°† <a> æ ‡ç­¾æ·»åŠ åˆ° body ä¸­ï¼ˆæˆ–å…¶ä»–å…ƒç´ ä¸­ï¼‰
  //         document.body.appendChild(aTag);

  //         // æ¨¡æ‹Ÿç‚¹å‡» <a> æ ‡ç­¾è¿›è¡Œè·³è½¬
  //         aTag.click();

  //         // å¯é€‰ï¼šä¹‹åä» DOM ä¸­ç§»é™¤è¿™ä¸ª <a> æ ‡ç­¾
  //         document.body.removeChild(aTag);

  //         menuElement.classList.add("hidden");
  //       });
  //       // å¯ä»¥æ·»åŠ æ›´å¤šæ ·å¼
  //     });
  //   });

  //   document.addEventListener("click", (event) => {
  //     if (
  //       !menuElement.contains(event.target) &&
  //       !iconMenuElement.contains(event.target)
  //     ) {
  //       // å¦‚æœç‚¹å‡»å‘ç”Ÿåœ¨ menuElement æˆ– iconMenuElement ä»¥å¤–ï¼Œéšè— menuElement
  //       menuElement.classList.add("hidden");
  //     }
  //   });
  // }
</script>
